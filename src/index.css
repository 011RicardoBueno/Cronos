@import "tailwindcss";

@theme {
  --color-primary: var(--primary);
  --color-secondary: var(--secondary);
  --color-accent: var(--accent);
  --color-surface: var(--surface);
  --color-text: var(--text);
  --color-muted: var(--muted);
  --color-card: var(--card);

  /* Aliases para garantir que as classes brand-* existam para o @apply */
  --color-brand-primary: var(--color-primary);
  --color-brand-secondary: var(--color-secondary);
  --color-brand-accent: var(--color-accent);
  --color-brand-surface: var(--color-surface);
  --color-brand-text: var(--color-text);
  --color-brand-muted: var(--color-muted);
  --color-brand-card: var(--color-card);
}

@layer base {
  :root {
    /* Dashboard / Admin Theme (Strict Dark Neutral) */
    --dash-bg: #0F172A;
    --dash-card: #1E293B;
    --dash-primary: #6366F1;
    --dash-text: #F8FAFC;
    --dash-muted: #94A3B8;

    /* Default mappings (Dashboard) */
    --primary: var(--dash-primary);
    --secondary: #4338ca;
    --accent: #38bdf8;
    --surface: var(--dash-bg);
    --text: var(--dash-text);
    --muted: var(--dash-muted);
    --card: var(--dash-card);
  }

  /* Public Themes */
  [data-theme='noble'] {
    --primary: #1A1A1A; --secondary: #4A4A4A; --accent: #8B4513;
    --surface: #F4F1EA; --muted: #A8A29E; --text: #2D2D2D; --card: #FFFFFF;
    --glass-bg: rgba(255, 255, 255, 0.3);
    --glass-border: rgba(26, 26, 26, 0.1);
    --glass-blur: 12px;
    --surface-gradient: linear-gradient(135deg, var(--surface) 0%, var(--surface) 100%);
  }
  [data-theme='zen'] {
    --primary: #3E5C52; --secondary: #2C4039; --accent: #78938A;
    --surface: #F0F4F2; --muted: #B0BDB9; --text: #1C2C24; --card: #FFFFFF;
    --glass-bg: rgba(255, 255, 255, 0.3);
    --glass-border: rgba(62, 92, 82, 0.1);
    --glass-blur: 12px;
    --surface-gradient: linear-gradient(135deg, var(--surface) 0%, var(--surface) 100%);
  }
  [data-theme='candy'] {
    --primary: #9D174D; --secondary: #831843; --accent: #F472B6;
    --surface: #FFF5F7; --muted: #FECDD3; --text: #4D0621; --card: #FFFFFF;
    --glass-bg: rgba(255, 255, 255, 0.3);
    --glass-border: rgba(157, 23, 77, 0.1);
    --glass-blur: 12px;
    --surface-gradient: linear-gradient(135deg, var(--surface) 0%, var(--surface) 100%);
  }
  [data-theme='royal'] {
    --primary: #D97706; --secondary: #B45309; --accent: #FBBF24;
    --surface: #111827; --muted: #374151; --text: #F3F4F6; --card: #1F2937;
    --glass-bg: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.1);
    --glass-blur: 16px;
    --surface-gradient: linear-gradient(135deg, var(--surface) 0%, var(--surface) 100%);
  }
  [data-theme='pure'] {
    --primary: #0284C7; --secondary: #0369A1; --accent: #38BDF8;
    --surface: #FFFFFF; --muted: #CBD5E1; --text: #0F172A; --card: #F8FAFC;
    --glass-bg: rgba(255, 255, 255, 0.3);
    --glass-border: rgba(2, 132, 199, 0.1);
    --glass-blur: 12px;
    --surface-gradient: linear-gradient(135deg, var(--surface) 0%, var(--surface) 100%);
  }

  /* Remove as margens, padding e a largura máxima do container do Vite */
  #root {
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
    text-align: left !important;
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* Garante que o body use a cor do seu tema v4 */
  body {
    margin: 0;
    background-color: var(--color-surface);
    color: var(--color-text);
    min-height: 100vh;
  }
}

@layer components {
  /* Reset de Células da Agenda */
  .rbc-calendar, .fc { 
    @apply !text-brand-text !bg-brand-card !rounded-2xl !border-none;
  }

  /* Células de tempo e dias */
  .rbc-day-bg, .rbc-month-view, .rbc-time-view, .fc-td {
    @apply !border-brand-muted/10;
    background-color: var(--color-card) !important;
  }

  /* Slots de horário (as células individuais) */
  .rbc-time-slot, .rbc-timeslot-group {
    border-bottom: 1px solid color-mix(in srgb, var(--color-muted), transparent 90%) !important;
  }

  /* Cabeçalhos dos dias */
  .rbc-header {
    @apply !py-3 !font-bold !text-brand-muted !border-brand-muted/10;
    background-color: var(--color-surface) !important;
  }

  /* Estilização do Evento (O "Card" do agendamento) */
  .rbc-event {
    @apply !bg-brand-primary !text-white !border-none !rounded-lg !shadow-sm;
    padding: 2px 8px !important;
  }

  /* Highlight do dia atual */
  .rbc-today {
    background-color: color-mix(in srgb, var(--color-primary), transparent 95%) !important;
  }

  /* Barra lateral de horários */
  .rbc-time-gutter .rbc-timeslot-group {
    @apply !text-xs !text-brand-muted !border-none;
  }
}

@layer utilities {
  @keyframes float {
    0% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -50px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
    100% { transform: translate(0, 0) scale(1); }
  }
  .animate-float {
    animation: float 20s ease-in-out infinite;
  }
  .animate-float-delayed {
    animation: float 25s ease-in-out infinite reverse;
    animation-delay: -5s;
  }
}